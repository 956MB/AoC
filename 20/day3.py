# https://adventofcode.com/2020/day/3

import math

def _pt1():
    _y, _x, tc = 0, 0, 0

    for y in range(len(_input)):
        _x += r1
        _y += d1
        ux = _x % len(_input[_y])
        
        if _y >= len(_input)-1: break
        if _input[_y][ux] == "#": tc += 1

    return tc+1

def _pt2():
    t = []

    for s in range(0, len(r2)):
        _y, _x, tc = 0, 0, 0
        for y in range(len(_input)):
            _x += r2[s]
            _y += d2[s]
            ux = _x % len(_input[_y])
            
            if _y >= len(_input)-1:
                if _input[_y][ux] == "#": tc += 1
                break
            if _input[_y][ux] == "#": tc += 1
        t.append(tc)

    return math.prod(t)

if __name__ == '__main__':
    # _input = [
    #     "..##.......",
    #     "#...#...#..",
    #     ".#....#..#.",
    #     "..#.#...#.#",
    #     ".#...##..#.",
    #     "..#.##.....",
    #     ".#.#.#....#",
    #     ".#........#",
    #     "#.##...#...",
    #     "#...##....#",
    #     ".#..#...#.#"
    # ]

    _input = [
        ".#..#....##...#....#.....#.#...",
        "........##....#..#..##....#.#..",
        "......##......##.........#....#",
        "...#.....#....##.......#.#....#",
        ".#.###.#.#..#.....##..#....#.#.",
        "##.........##.....####......#..",
        "#...#..........#.##............",
        "####............#..........#.#.",
        "......#......#....##...#..##...",
        "#..#....#...#......#......####.",
        "......#..........#.........#.#.",
        "...##.......#..#.#..#..#....#..",
        "..####....#.#...............##.",
        "...###........#.....#..........",
        "#..#.##...##.#..##...##...#....",
        ".###........#.##..#.#.....#....",
        ".#.......#..##.......#......#..",
        ".##...........#..............#.",
        "...#..#.....#...........#...#..",
        ".....#..............#..#.......",
        ".......#....#.....##...........",
        ".#...#.............#.....##....",
        "....#.#....#...#...#..#..##.#..",
        "...#..##..##...#..##........#.#",
        ".###..#...#.#.#.#..#...#.......",
        ".....##.#.##.#.#.......#..#....",
        ".##.#...#.....#...#....#.....#.",
        ".....#......###....###..##.#..#",
        ".....#..##....#..#.#..#.#.#....",
        "#....#.....#.#.......#...#....#",
        "...#........#............#..#..",
        "#.#...#...#..##.........#...##.",
        ".#..#.#...........#....#...#...",
        "##..#.#..........#.....###...#.",
        "#..#........#.......#.#..#....#",
        "..#...##....#..#....#....#.....",
        "...#.....##....#...#..#....##.#",
        ".....#......#...#.#.#.#.#......",
        "###.....#..#.#..........##.#...",
        "...............#..#...#.#....#.",
        "#.....#.....###....#..........#",
        "........#...#.#.......#..#...#.",
        "..#.##...#...#...#.........#...",
        "#..........#..#.#...........##.",
        "##.......#.#.#...#.....#.......",
        "...#.#.#.....#......#....##..#.",
        "##.#.....#....#...#.......#....",
        ".#......##..#.##.#....##..##.#.",
        "..#..#......#....#...#..#.#....",
        "...#..###...#.......#..#.......",
        "...#....#..#....#........##....",
        "#...#...#....#.#.........###.#.",
        ".#.........##..##...#..........",
        "...##.....##.........#..#..#...",
        "###....#......#.##..#...#......",
        ".###....#.#.......#..#....#...#",
        "....####........##....#.#....##",
        "..#.....#......##...#..#..#....",
        "...#....#...#......#.###.#.#.#.",
        "......#.......#..#...#...#.....",
        ".#...#...#..#.#..........#.....",
        "........#..#.........#.#....##.",
        ".#....#.......#........#.##.#..",
        "...#...#..#.....#......#...##..",
        ".#.................#........###",
        ".......#.#..#.#...#............",
        ".#.......#..##...#.###....#.##.",
        "#........#.###.#..#........##..",
        "..##.#....##......##........#..",
        "...............#...............",
        "#.......#......##..#.#....#.#.#",
        "..#.....#......#.#.#...#...##..",
        "..........#........#.....##...#",
        "#..........#.#..#..##..#......#",
        ".......#..###..##.#..##........",
        "#.#..##..###..#.###.....#.#..##",
        "..#.#........#...###...##......",
        ".......##.....##...#.##........",
        ".#.#...###..#..#......##....##.",
        "#...#.#.....##..#..#..#.#....#.",
        "........#......#....#..#.......",
        "...#.#.#.#........###....#...#.",
        ".#......#...#.......#......#...",
        "#...#.##.#..#.#..#.........#...",
        "....#......##......#........#.#",
        "..##.#.....#..#......#..#......",
        "#.##...##...#................#.",
        ".....#..#....#....#####........",
        "....#..#..#.#...#.#............",
        ".........#.#....#..#....##...#.",
        "#....#..........#......#......#",
        ".......#..............#......#.",
        ".#..#...#..#.#.....#.#.#.##.#..",
        ".##........#......#...#.##.....",
        "...#.##..#........#...........#",
        "..#...#..#........#.......#.#..",
        "#.....#..#.#..#..#...#...#..#..",
        "..................#.#.....#...#",
        "........#...##.#..#.........#..",
        ".#...##.#...........##.##...#..",
        "#......#.........#...#...#...#.",
        "..........#.............#...#..",
        "#............##.#..#...#.#...#.",
        "..#.##...##....##.#...####...#.",
        "#.##..#......#.......#.#...##..",
        ".....#...#..#......#####.##..#.",
        "#...#.#.##..#..##.....#......#.",
        ".#..#......#.#.#...#.#...##.#..",
        ".#.....#..##........#.....#...#",
        ".................#..........#..",
        "##.#.#......#.####..#.....#....",
        ".#...##.####..#...#............",
        "..#...............###....#....#",
        "#...#..###..#.#.##...........##",
        "...................#..#.....#..",
        "...#.##.#...#.....#......#.##..",
        "#.#...#.........##.#........#.#",
        ".##.......#..#..#.....##....#..",
        "......##.#.#..#...#.#..##.....#",
        "..#..###...#...#......#.#......",
        "..##....#.#...#....#....#..#..#",
        "#..##....#........#..##..#..#.#",
        ".......#............#....##..#.",
        ".#.#..#.........#.#.##......#..",
        "#.#....#..##..#..###.#.....##..",
        ".###.#......#.....#####...#....",
        "#...#.#...##......#...#.#...##.",
        "#..#.........#..#............#.",
        "...##......##.......##....##...",
        "...#...##....###..###.#...#....",
        "#.#....#...#.#...##..#........#",
        ".#..#..................#....#..",
        "#......#..#...##..##...#..##..#",
        "...#..#.....#...#........#.#.#.",
        "#...#..##....#.....#........#..",
        ".##..#....#.....#.#............",
        "##..##.#.#.##.#.#..#.#..#....#.",
        "#.......#...............#.....#",
        "..#.....#..##.....#...##.##....",
        "...#..#...#.#.#....#......#....",
        "###.#.......#....#....#.#...#..",
        ".....###..#...###.#.#..#.......",
        ".....#.........##.#....#..##.#.",
        "........#....#....#....#.#..##.",
        "........###....#.#.........#.#.",
        ".#..###..#........#.......##.#.",
        ".#.#...........................",
        "..#....##...#.#....#....#.#....",
        ".#...#...##.#........###....#..",
        "#.#....#...#.#.#...##......##..",
        "#......#....#...#..#....#...#..",
        "...#..##........#.#...##......#",
        "....##...........##...#..#..#..",
        "......#..#........#..#....##.##",
        ".###..#.#.........#.....#......",
        ".#..##............#......#.....",
        "..##.#.#..#..#.###....#..#..#..",
        "....#.#..#.#..##...##.#.#.#.#..",
        "....#..#....#...............#..",
        "..#...#.##.....##....#..##..#..",
        ".......##.#....#.##....#.......",
        ".#...#........#...#......#.###.",
        "..#....##.......#....#.#...#.#.",
        ".....#.....#...##..#....#.#..##",
        "..##........##............##...",
        "..........#...#.......#.......#",
        ".#...............#...#.##......",
        "#.##......#....#.##.#..#..#...#",
        "......###.........#...#..#....#",
        "....#......#...#....#....#...#.",
        "#...##...#....#......####....#.",
        ".................#......#......",
        "..#..........##.......##..#.##.",
        ".#.....#.......#...######..#..#",
        "....##.#...#...#..........#....",
        ".....#.......#...#.#.......###.",
        "#...#.###.....#...#.......#....",
        ".#.##.####....#.....#.#........",
        ".......#.....##............##..",
        "..#...#.#.##........#...##...#.",
        "........#...####.##..#....#...#",
        "#.......#...##.#......#..#...#.",
        "......#.........#..###.#.#....#",
        "#..##...#...#..#...#...#.....#.",
        ".#...#...#.#.................##",
        "#......#.....#..#.#..#......##.",
        ".......#.##...#.......#.......#",
        ".#.#..#..#......#....#.#...#.#.",
        "..#...#.#..#......#...#.#.#....",
        "........#..............#..##...",
        ".##..#..##.#....#.#..###..#..#.",
        "..#....#......#...#.#.#....#...",
        "...#..#..#....#..#.....##......",
        ".#......#...#........##........",
        ".#......#..#...##..#..#.#.#....",
        ".##......#.##.........#....#...",
        "....#....##..#..###.#..#......#",
        "....#....##..........#.#...#...",
        "..##.#.............#..#.....#..",
        "..#.....#....#....#.......##...",
        ".##.#....#....#...#....##.#....",
        "...#.#..#.###.#..#.#.......#.#.",
        ".....##.....#.......#......#...",
        ".#.....#..#.#.#..#........##...",
        "##.....................#.......",
        "..###............#........##..#",
        ".#.##.....#..#..#..#.#.......#.",
        ".##...................#..#..#..",
        "..#.#...#..........##..#..##...",
        "#......#..#..#.#..#......#..#.#",
        ".#...#....#.#.........#.....#.#",
        "#..........#.#....#....#.#.#.#.",
        "#.....#..........#..#....#..#..",
        "........#....#..##.#.#.......#.",
        ".#.......##.......#..##...#....",
        "...#..##..#......##.#..#.#..#..",
        ".#..#.......#..##..#......#....",
        "###.#.........#......#.#.......",
        "...#......#....#..##..#.#..#...",
        "......#..#.....#.........#....#",
        "....#..#..#..#.........##.#..#.",
        "......#..#..#..#....#...#..##.#",
        "......##.#..#..#.#.......#.#.##",
        "..#.....#...#..#....#..........",
        ".##..##.....##.......#.##.#....",
        "...#..#.......#..#.......#.....",
        ".........#....##..#.#....#.#...",
        ".....#..#...#.........#....#..#",
        ".........##.....#.#...#.###...#",
        ".#......####..##...#..#........",
        ".#......##....#.....#..........",
        "##.......##.#.......#..........",
        ".#......#.#.#.#....#........#..",
        "......##..##...#...#...........",
        ".#...#.#..#......#.#.#.#....#.#",
        "...#.........#.....#...###.....",
        "#.....##....#.##...#....#......",
        ".#..#...#..##.###.#.#.#...#....",
        "...#......#..#....#...#...#....",
        ".#..............#.....#........",
        "..##...#.....#..#.....#..#.#...",
        ".##...#....#.##...#.........##.",
        "..#......#...##..#.....#......#",
        "#.#..............#...#...#..#.#",
        "..#..#.#...........#...#.#.#...",
        "#..........#...#..#..##..#....#",
        "............#...#........###...",
        ".........#.....#.....#..#......",
        "#...#.#..##......#.#####.......",
        "...#........#..............#...",
        "......###.#.#.....#..#....##.#.",
        ".#.#.#..##....###.#..#....##...",
        ".#....#.##............##.#.....",
        "##...##.#......#.#.##.##...###.",
        ".......#.#........#.....#......",
        "....#.....#......#...#.#..#....",
        ".#.........#....#...#...#...#.#",
        "#.......#................#..#..",
        ".##...........#.##...##....#...",
        "#...#.#...###.........#.......#",
        ".#...#.........................",
        "#.......#...#.....##.##...##...",
        ".#.#....#.......#.#.##.#....#..",
        "#..#....#...#.#.##.#....#....#.",
        ".##.....#.#..#...#..#..........",
        ".............#...#.#..#........",
        "....#........#..#......##......",
        "#.....#....#.....#.......#.....",
        "........#.......##....#........",
        ".#.#..##.......................",
        "##..#.....#........#.....#.....",
        ".#......#.#...#.#..........#..#",
        ".#..#.....#..#..........#.###..",
        "......#.#..#.#.......#.#.....#.",
        ".#....#......#..##.............",
        "#...##.........#.#.#...#.....#.",
        "..#................#..#..###...",
        "#.....#....##.#..##......#.#.#.",
        "..#....#...#...#...............",
        "#................#....#...#.#..",
        "................#...#.....#.##.",
        "..#.#.#..#.##.......##.......##",
        "...........#......##.......###.",
        "...#.......##.........#.#.#.#..",
        ".#...#.#..#...#.#.....#........",
        "............#####......##......",
        "....###....#.##...#..#.........",
        "..#.#...#.......#...#...#.###..",
        "..............##..#...#....#...",
        "#.#..##...#....##.........#....",
        "..#...#.....#...........#...#..",
        "#.#..###..#.#..#........#..#.#.",
        "...###...##...#...#.#.........#",
        "..#........#.....#.#.#.......#.",
        "...#..#..........#.....#...#...",
        "....#..#.....#....##....#.##...",
        ".....##..#...#.#..##...#...##.#",
        "...........###...##....#.......",
        "##..#.#..#..#...#....##..#..#..",
        "##...#.#......##.#..#...#....#.",
        ".#.......#...........#...#.....",
        "#...#....#.......#...#.##......",
        ".........#.......#...#.#...#...",
        ".......##.#..................#.",
        "........#..#.#......#.....#....",
        ".....#.#.#.#....##...#.###.....",
        "#.#.........#..#.#.#.#.#.......",
        ".............#....#.......###..",
        ".#.##....#....##.........####..",
        "...........###.#...............",
        "#.........##.#.#..#.....##.###.",
        ".#.#.....#.#...#.....##...#...#",
        "#....#...#.........#.#.......#.",
        ".....#.###..#....#...##..#...#.",
        "#........#....#.#..#....#.#....",
        "#.#..##......#.........#.#.....",
        "##..#.....#......###....#....#.",
        "#.#.####..#.#.#......##...#..#.",
        "....#.....#.#.#.#.....#........",
        "..##..........#......#.#.#..#..",
        ".#...##.##.........#.........##",
        "..#.#.#..........#..#..#......#",
        "###..###..#...#................"
    ]

    r1 = 3
    d1 = 1
    r2 = [1,3,5,7,1]
    d2 = [1,1,1,1,2]

    # res = _pt1()
    res = _pt2()
    print(res)